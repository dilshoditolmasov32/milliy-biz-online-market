import{l as _,k as N,r,n as w,j as e,s as b,q as y,x as I,v as L,b as p,W as P,X as k,Y as M,Z as E,a as f,af as u,ag as m,ah as x,a1 as R,ai as g}from"./index-V5uPviVE.js";function Z(s){return _("MuiAccordionDetails",s)}N("MuiAccordionDetails",["root"]);const S=s=>{const{classes:i}=s;return I({root:["root"]},Z,i)},A=b("div",{name:"MuiAccordionDetails",slot:"Root"})(L(({theme:s})=>({padding:s.spacing(1,2,2)}))),D=r.forwardRef(function(i,a){const c=w({props:i,name:"MuiAccordionDetails"}),{className:o,...l}=c,n=c,t=S(n);return e.jsx(A,{className:y(t.root,o),ref:a,ownerState:n,...l})}),O="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_326_1028)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.2742%200.247289C13.159%200.0847577%2014.0701%200%2015%200C23.2843%200%2030%206.71572%2030%2015C30%2023.2843%2023.2843%2030%2015%2030C14.0701%2030%2013.159%2029.9153%2012.2742%2029.7528C11.5952%2029.628%2011.1459%2028.9765%2011.2706%2028.2975C11.3953%2027.6185%2012.0468%2027.1691%2012.7259%2027.2939C13.4624%2027.4291%2014.2224%2027.5%2015%2027.5C21.9035%2027.5%2027.5%2021.9035%2027.5%2015C27.5%208.09644%2021.9035%202.5%2015%202.5C14.2224%202.5%2013.4624%202.57086%2012.7259%202.70615C12.0468%202.83088%2011.3953%202.38155%2011.2706%201.70255C11.1459%201.02355%2011.5952%200.37201%2012.2742%200.247289ZM9.20701%202.4636C9.55269%203.06118%209.34849%203.82584%208.75091%204.17151C7.04566%205.15794%205.59435%206.53614%204.52075%208.18271C4.1437%208.76101%203.36924%208.92415%202.79095%208.54709C2.21265%208.17004%202.04953%207.39557%202.42657%206.81729C3.71385%204.84297%205.4534%203.19086%207.49909%202.0075C8.09666%201.66181%208.86133%201.86602%209.20701%202.4636ZM22.1086%2010.3416C22.6104%2010.8158%2022.6326%2011.6069%2022.1585%2012.1086L14.1171%2020.6165C13.3188%2021.4611%2011.9937%2021.4611%2011.1954%2020.6165L7.84156%2017.0681C7.36735%2016.5664%207.38966%2015.7752%207.89137%2015.301C8.3931%2014.8269%209.18424%2014.8491%209.65844%2015.3509L12.6562%2018.5226L20.3415%2010.3914C20.8157%209.88966%2021.6069%209.86735%2022.1086%2010.3416ZM1.88963%2010.6574C2.56206%2010.8137%202.9805%2011.4855%202.82423%2012.158C2.61231%2013.0697%202.5%2014.021%202.5%2015C2.5%2015.979%202.61231%2016.9303%202.82423%2017.842C2.9805%2018.5145%202.56206%2019.1863%201.88963%2019.3425C1.2172%2019.4989%200.545393%2019.0804%200.389116%2018.408C0.13439%2017.3119%200%2016.1709%200%2015C0%2013.8291%200.13439%2012.6881%200.389116%2011.592C0.545393%2010.9196%201.2172%2010.5012%201.88963%2010.6574ZM2.79095%2021.4529C3.36924%2021.0759%204.1437%2021.239%204.52075%2021.8172C5.59435%2023.4639%207.04566%2024.842%208.75091%2025.8285C9.34849%2026.1741%209.55269%2026.9389%209.20701%2027.5364C8.86133%2028.134%208.09666%2028.3381%207.49909%2027.9925C5.4534%2026.8091%203.71385%2025.157%202.42657%2023.1828C2.04953%2022.6044%202.21265%2021.83%202.79095%2021.4529Z'%20fill='%234AE431'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_326_1028'%3e%3crect%20width='30'%20height='30'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",B="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_326_1112)'%3e%3cpath%20d='M16%200C7.15675%200%200%207.15606%200%2016C0%2024.8433%207.15606%2032%2016%2032C24.8433%2032%2032%2024.8439%2032%2016C32%207.15669%2024.8439%200%2016%200ZM16%2029.5C8.5385%2029.5%202.5%2023.4621%202.5%2016C2.5%208.53844%208.53794%202.5%2016%202.5C23.4615%202.5%2029.5%208.53794%2029.5%2016C29.5%2023.4616%2023.4621%2029.5%2016%2029.5Z'%20fill='%23E31E25'/%3e%3cpath%20d='M21.4746%2019.7063L17.7682%2015.9999L21.4746%2012.2936C21.9627%2011.8054%2021.9628%2011.014%2021.4746%2010.5258C20.9864%2010.0376%2020.195%2010.0377%2019.7069%2010.5258L16.0005%2014.2322L12.294%2010.5258C11.806%2010.0376%2011.0144%2010.0376%2010.5263%2010.5258C10.0381%2011.014%2010.0381%2011.8054%2010.5263%2012.2936L14.2327%2015.9999L10.5263%2019.7063C10.0381%2020.1945%2010.0381%2020.9859%2010.5263%2021.4741C11.0146%2021.9623%2011.806%2021.9621%2012.294%2021.4741L16.0005%2017.7677L19.7069%2021.4741C20.1949%2021.9622%2020.9865%2021.9622%2021.4746%2021.4741C21.9628%2020.9859%2021.9628%2020.1944%2021.4746%2019.7063Z'%20fill='%23E31E25'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_326_1112'%3e%3crect%20width='32'%20height='32'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",U="/assets/durationIcon-Cf3t5HBV.svg",h="/assets/productPhoto-DNagju9v.png";function T(){const{t:s}=p(),i=[[{id:"#35645458",productImage:h,name:"Школьная парта",price:"5 900 000 so’m",discountPrice:"5 600 000 so’m",checkedIcon:O,statusKey:"delivered"}],[{id:"#35645458",productImage:h,name:"Школьная парта",price:"5 900 000 so’m",discountPrice:"5 600 000 so’m",checkedIcon:B,statusKey:"canceled"}],[{id:"#35645458",productImage:h,name:"Школьная парта",price:"5 900 000 so’m",discountPrice:"5 600 000 so’m",checkedIcon:U,statusKey:"inProgress"}]];return e.jsx("div",{children:i.map((a,c)=>{const o=a[0];return e.jsxs(P,{defaultExpanded:c===0,className:"accordion-order",elevation:0,square:!1,sx:{borderRadius:"12px !important",boxShadow:"none !important",overflow:"hidden",marginBottom:"10px"},children:[e.jsxs(k,{expandIcon:e.jsx(E,{}),"aria-controls":`panel-${c}-content`,id:`panel-${c}-header`,sx:{borderRadius:"12px"},children:[e.jsxs("div",{className:"checked-product",children:[e.jsx("img",{src:o.checkedIcon,alt:"checked icon"}),e.jsx(M,{component:"h3",className:"checked-title",children:o.titleText})]}),e.jsxs("ul",{className:"checked-product-data",children:[e.jsxs("li",{children:[e.jsx("p",{children:s("date")}),e.jsx("span",{children:"05.04.2023 10:47"})]}),e.jsxs("li",{children:[e.jsx("p",{children:s("orderId")}),e.jsx("span",{children:o.id})]}),e.jsxs("li",{children:[e.jsx("p",{children:s("productPrice")}),e.jsx("span",{children:o.discountPrice})]})]})]}),e.jsx(D,{children:e.jsx("ul",{children:a.map((l,n)=>e.jsxs("li",{className:"product-item",children:[e.jsxs("div",{className:"product-item__left",children:[e.jsx("div",{className:"product-item__image",children:e.jsx("img",{src:l.productImage,alt:"image product"})}),e.jsxs("div",{className:"product-item__info",children:[e.jsxs("div",{className:"product-item__name",children:[l.name,l.discount&&e.jsxs("span",{className:"product-item__discount",children:["-",l.discount,"%"]})]}),e.jsxs("div",{className:"product-item__id",children:["ID ",l.id]})]})]}),e.jsxs("div",{className:"product-item__price",children:[e.jsx("p",{children:s("productPrice")}),e.jsx("span",{className:"old",children:l.price}),e.jsx("span",{className:"new",children:l.discountPrice})]})]},l.id||n))})})]},c)})})}const F=async()=>{const{data:s}=await f.get("/customer/get");return s==null?void 0:s.data},V=async()=>{var i;return(i=(await f.post("/customer/logout")).data)==null?void 0:i.data};function H(){const[s,i]=r.useState(null),[a,c]=r.useState(!0),[o,l]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const t=await F();i(t)}catch(t){l(t)}finally{c(!1)}})()},[]),{user:s,loading:a,error:o}}const K="data:image/svg+xml,%3csvg%20width='27'%20height='27'%20viewBox='0%200%2027%2027'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.8125%2013.7501C16.6095%2013.7501%2019.6875%2010.6721%2019.6875%206.87509C19.6875%203.07813%2016.6095%209.15527e-05%2012.8125%209.15527e-05C9.01554%209.15527e-05%205.9375%203.07813%205.9375%206.87509C5.9375%2010.6721%209.01554%2013.7501%2012.8125%2013.7501Z'%20fill='%2310355B'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.5938%2025.64C13.295%2024.245%2012.5%2022.375%2012.5%2020.32C12.5%2018.2163%2013.3338%2016.305%2014.6888%2014.9C14.0763%2014.8525%2013.45%2014.8275%2012.8125%2014.8275C8.66%2014.8275%204.98375%2015.8663%202.70125%2017.4225C0.96%2018.61%200%2020.1188%200%2021.7025V23.515C0%2024.0788%200.22375%2024.62%200.6225%2025.0175C1.02125%2025.4163%201.56125%2025.64%202.125%2025.64H14.5938Z'%20fill='%2310355B'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20.3125%2013.7576C16.69%2013.7576%2013.75%2016.6976%2013.75%2020.3201C13.75%2023.9426%2016.69%2026.8826%2020.3125%2026.8826C23.935%2026.8826%2026.875%2023.9426%2026.875%2020.3201C26.875%2016.6976%2023.935%2013.7576%2020.3125%2013.7576ZM19.375%2020.3201V23.4451C19.375%2023.9626%2019.795%2024.3826%2020.3125%2024.3826C20.83%2024.3826%2021.25%2023.9626%2021.25%2023.4451V20.3201C21.25%2019.8026%2020.83%2019.3826%2020.3125%2019.3826C19.795%2019.3826%2019.375%2019.8026%2019.375%2020.3201ZM20.3125%2016.2576C21.0025%2016.2576%2021.5625%2016.8176%2021.5625%2017.5076C21.5625%2018.1976%2021.0025%2018.7576%2020.3125%2018.7576C19.6225%2018.7576%2019.0625%2018.1976%2019.0625%2017.5076C19.0625%2016.8176%2019.6225%2016.2576%2020.3125%2016.2576Z'%20fill='%2310355B'/%3e%3c/svg%3e",q="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.9996%200C9.00871%200%204.13477%204.87395%204.13477%2010.8648C4.13477%2018.2997%2013.8578%2029.2144%2014.2717%2029.6755C14.6605%2030.1085%2015.3394%2030.1078%2015.7275%2029.6755C16.1415%2029.2144%2025.8645%2018.2997%2025.8645%2010.8648C25.8644%204.87395%2020.9905%200%2014.9996%200ZM14.9996%2016.3312C11.9854%2016.3312%209.5333%2013.879%209.5333%2010.8648C9.5333%207.85063%2011.9855%205.39848%2014.9996%205.39848C18.0138%205.39848%2020.4659%207.85068%2020.4659%2010.8649C20.4659%2013.879%2018.0138%2016.3312%2014.9996%2016.3312Z'%20fill='%2310355B'/%3e%3c/svg%3e";function $(){const{t:s}=p(),{user:i,loading:a,error:c}=H();return a?e.jsxs("p",{children:[s("loading"),"..."]}):c?e.jsx("p",{children:s("errorOccurred")}):e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card__header",children:[e.jsx("img",{src:K,alt:s("profile.userIcon")}),e.jsx("h2",{children:s("personalInfo")})]}),e.jsxs("div",{className:"profile-card__grid profile-card__grid--two",children:[e.jsxs("div",{className:"profile-field",children:[e.jsx("label",{children:s("fullName")}),e.jsx("input",{className:"profile-input",value:(i==null?void 0:i.name)||"",readOnly:!0})]}),e.jsxs("div",{className:"profile-field profile-field--phone",children:[e.jsxs("div",{className:"label-title",children:[e.jsx("div",{children:s("phone")}),e.jsx("div",{className:"profile-field__helper",children:s("phoneVerified")})]}),e.jsxs("div",{className:"phone-wrapper",children:[e.jsx("span",{className:"phone-code",children:"+998"}),e.jsx("input",{className:"input-phone",value:(i==null?void 0:i.phone)||"",disabled:!0})]})]})]})]}),e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-card__header",children:[e.jsx("img",{src:q,alt:s("locationIcon")}),e.jsx("h2",{children:s("address")})]}),e.jsxs("div",{className:"profile-card__grid profile-card__grid--two",children:[e.jsxs("div",{className:"profile-field",children:[e.jsx("label",{children:s("region")}),e.jsx(u,{value:(i==null?void 0:i.region)||"",indicator:e.jsx(x,{}),children:e.jsx(m,{value:"tashkent",children:s("tashkentCity")})})]}),e.jsxs("div",{className:"profile-field",children:[e.jsx("label",{children:s("district")}),e.jsx(u,{value:(i==null?void 0:i.district)||"",indicator:e.jsx(x,{}),children:e.jsx(m,{value:"yakkasaroy",children:s("yakkasaroy")})})]})]})]})]})}function W({onCloseFunc:s,onConfirm:i,loading:a}){const{t:c}=p();return e.jsx("div",{className:"modal-logout",children:e.jsxs("div",{className:"modal-logout__wrapper",children:[e.jsx("h2",{className:"modal-logout__title",children:c("logout")}),e.jsx("p",{className:"modal-logout__message",onClick:s,disabled:a,children:c("logoutConfirm")}),e.jsxs("div",{className:"modal-logout__actions",children:[e.jsx("button",{className:"modal-logout__button modal-logout__button--cancel",onClick:s,children:c("no")}),e.jsx("button",{className:"modal-logout__button modal-logout__button--confirm",onClick:i,disabled:a,children:c("yes")})]})]})})}const X="data:image/svg+xml,%3csvg%20width='11'%20height='19'%20viewBox='0%200%2011%2019'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.32119%2018.0438L0.366243%2010.0888C-0.121912%209.60067%20-0.121912%208.80922%200.366243%208.32106L8.32119%200.366112C8.80935%20-0.122044%209.60081%20-0.122044%2010.089%200.366112C10.5771%200.854267%2010.5771%201.64572%2010.089%202.13388L3.01789%209.20495L10.089%2016.276C10.5771%2016.7642%2010.5771%2017.5556%2010.089%2018.0438C9.60081%2018.5319%208.80935%2018.5319%208.32119%2018.0438Z'%20fill='black'/%3e%3c/svg%3e";function Y(){const s=R(),[i,a]=r.useState(!1);return{logout:async()=>{try{a(!0),await V(),localStorage.removeItem("token"),s("/",{replace:!0})}finally{a(!1)}},loading:i}}const d={PROFILE:"profile",ORDERS:"orders"};function G({onLogout:s}){const{t:i}=p(),{logout:a,loading:c}=Y(),[o,l]=r.useState(d.PROFILE),[n,t]=r.useState(!1),C=()=>{t(!0)},j=()=>{t(!1)},v=async()=>{await a(),t(!1)};return e.jsx("div",{className:"profile-page",children:e.jsxs("div",{className:"profile-page__container",children:[e.jsxs("div",{className:"profile-page__breadcrumbs",children:[e.jsx(g,{to:"/",children:e.jsxs("button",{className:"profile-page__back-btn",children:[e.jsx("img",{src:X,alt:i("back")}),i("back")]})}),e.jsx(g,{to:"/",children:e.jsx("span",{className:"profile-page__crumb",children:i("home")})}),e.jsx("span",{className:"profile-page__crumb profile-page__crumb--current",children:i("myPage")})]}),e.jsx("h1",{className:"profile-page__title",children:i("myPage")}),e.jsxs("div",{className:"profile-page__layout",children:[e.jsxs("aside",{className:"profile-sidebar",children:[e.jsx("button",{className:"profile-sidebar__item"+(o===d.PROFILE?" profile-sidebar__item--active":""),onClick:()=>l(d.PROFILE),children:i("myPage")}),e.jsx("button",{className:"profile-sidebar__item"+(o===d.ORDERS?" profile-sidebar__item--active":""),onClick:()=>l(d.ORDERS),children:i("ordersHistory")}),e.jsx("button",{className:"profile-sidebar__item profile-sidebar__item--logout",onClick:C,children:i("logout")})]}),n&&e.jsx(W,{onCloseFunc:j,onConfirm:v,loading:c}),e.jsx("section",{className:"profile-content",children:o===d.PROFILE?e.jsx($,{}):e.jsx(T,{})})]})]})})}export{G as default};
